import campeon.*
import items.*

describe "test general" {
	var goku   = new Campeon(puntosDeAtaque = 15, puntosDeVida = 50)
	var anillo = new AnilloDeDoran()
	var tomo   = new TomoAmplificador()
	var oleada = new Oleada(ataque = 10, plus = 5, vida = 100)
	var sombrero = new SombreroDeRabadon()
	
	test "el campeon ataca y muere" {
		goku.equiparseUn(anillo)
		goku.equiparseUn(tomo)
		goku.atacar(oleada)
		goku.atacar(oleada)
		goku.atacar(oleada)
		goku.desequiparseUn(tomo)
		goku.desequiparseUn(anillo)
	//	assert.equals(50, goku.puntosDeVidaTotal())
	//	assert.equals(50, goku.danioRecibido())
		assert.that(goku.estaMuerto())
	}
	test "campeon se equipa un sombrero" {
		
		goku.equiparseUn(sombrero)
		
		assert.equals(56.25, goku.puntosDeVidaTotal())
	    //Devuelve 56.25 porque el sombrero aporta 5 puntos de vida adicionales + 25% del tomo.
		//Ver este assert si en realidad deberia dar 55
		
		assert.equals(45, goku.puntosDeAtaqueTotal())
	    /* Devuelve 45 ya que suma 15 de ataque base + 30 unidades extra 
	     * que aporta el sombrero */
	     
		assert.equals(2, goku.cantBloqueos())
		//Aporta los mismos bloqueos que el tomo.
		
		assert.equals(5, goku.danioRecibido())
		//El sombrero aporta 5 puntos de da√±o.
	} 
}